var Sys={};var ua=navigator.userAgent.toLowerCase();var s;(s=ua.match(/msie ([\d.]+)/))?Sys.ie=s[1]:(s=ua.match(/firefox\/([\d.]+)/))?Sys.firefox=s[1]:(s=ua.match(/chrome\/([\d.]+)/))?Sys.chrome=s[1]:(s=ua.match(/opera.([\d.]+)/))?Sys.opera=s[1]:(s=ua.match(/version\/([\d.]+).*safari/))?Sys.safari=s[1]:0;if(ua.match(/iphone/)){Sys.mobileSafari=true}var IS_IE=false;var IE_VERSION="?";if(Sys.ie){IS_IE=true;IE_VERSION=Sys.ie;document.execCommand("BackgroundImageCache",false,true)}Array.prototype.remove=function(c,b){var a=this.slice((b||c)+1||this.length);this.length=c<0?this.length+c:c;return this.push.apply(this,a)};function math_instance(){this.random=a;function a(c,b){return Math.round(Math.random()*(b-c)+c)}}var math=new math_instance();function cclog(a){if(!IS_IE){console.log(a)}}function assert(b,a){if(!b){cclog(a);alert("ASSERT FAILED: "+a)}}function ccc3(d,c,a){var e=new Object();e.r=d;e.g=c;e.b=a;function f(){var j=Math.floor(e.r),i=Math.floor(e.g),b=Math.floor(e.b);var h=e.r>15?j.toString(16):"0"+j.toString(16);var g=e.g>15?i.toString(16):"0"+i.toString(16);var k=e.b>15?b.toString(16):"0"+b.toString(16);return"#"+h+g+k}e.toString=f;return e}function CCSizeMake(b,a){var c=new Object();c.width=b;c.height=a;return c}function CCRectIntersectRect(b,a){if(Math.max(b.x,b.x+b.width)>=Math.min(a.x,a.x+a.width)){if(Math.min(b.x,b.x+b.width)<=Math.max(a.x,a.x+a.width)){if(Math.max(b.y,b.y+b.height)>=Math.min(a.y,a.y+a.height)){if(Math.min(b.y,b.y+b.height)<=Math.max(a.y,a.y+a.height)){return true}}}}return false}function CCRectMake(a,e,b,c){var d=new Object();d.x=a;d.y=e;d.width=b;d.height=c;return d}function RemoveFromParent(b){if(typeof(b.element.parentNode)!=="undefined"&&b.element.parentNode!=null){b.element.parentNode.removeChild(b.element)}if(b.parent){for(var a=b.parent.childs.length-1;a>=0;--a){if(b.parent.childs[a]===b){b.parent.childs.remove(a)}}}b.parent=null}function RemoveChild(b,c){assert(c.parent===b,"remove child removing not it's child");for(var a=b.childs.length-1;a>=0;--a){if(b.childs[a]===c){b.childs.remove(a);if(typeof(c.element.parentNode)!=="undefined"&&c.element.parentNode!=null){c.element.parentNode.removeChild(c.element)}return}}assert(true,"remove child removing not it's child")}function RemoveAllChildsAndCleanUp(c,b){for(var a=c.childs.length-1;a>=0;--a){if(typeof(c.childs[a].element.parentNode)!=="undefined"&&c.childs[a].element.parentNode!=null){c.childs[a].element.parentNode.removeChild(c.childs[a].element)}c.childs[a].parent=null;if(b){StopAllActions(c)}RemoveAllChildsAndCleanUp(c.childs[a],b);c.childs.remove(a)}}function AddChild(a,b){if(typeof(b.element.parentNode)!=="undefined"&&b.element.parentNode!=null){b.element.parentNode.removeChild(b.element)}if(b.parent!=null){RemoveChild(b.parent,b)}a.element.appendChild(b.element);a.childs.push(b);b.parent=a;SetPosition(b,b.x,b.y)}function SetVisible(a,b){a.visible=b;a.element.style.display=b?"block":"none";if(a.parent){if(!a.visible){if(typeof(a.element.parentNode)!=="undefined"&&a.element.parentNode!=null){a.element.parentNode.removeChild(a.element);a._needAdd=true}}else{if(typeof(a._needAdd)!=="undefined"&&a._needAdd){a.parent.element.appendChild(a.element);a._needAdd=false}}}}function IsVisible(a){return a.visible}function UpdatePosition(a){}function SetAnchorpoint(c,b,a){c.ax=b;c.ay=a;UpdateNodeScale(c)}function SetPosition(c,a,d){c.x=a;c.y=d;var b=c.element;if(typeof(c.width)!="undefined"){if(c.parent!=null){b.style.left=c.x*c.parent.transform.scalex-c.width*c.ax;b.style.top=c.y*c.parent.transform.scaley-c.height*c.ay}else{b.style.left=c.x-c.width*c.ax;b.style.top=c.y-c.height*c.ay}}else{b.style.left=c.x;b.style.top=c.y}}function SetColor(b,a){assert(typeof(a.r)!="undefined"&&typeof(a.g)!="undefined"&&typeof(a.b)!="undefined","invalid color. use ccc3 to create color!");b.color=a;b.element.style.backgroundColor=a.toString();b.element.style.borderColor="#000000"}function __SetContentSize(b,a){b.element.style.width=a.width;b.element.style.height=a.height;if(IS_IE&&a.height<26){b.element.style.fontSize=a.height+"px"}if(typeof(b.ieChildNode)!="undefined"){b.ieChildNode.style.width=a.width;b.ieChildNode.style.height=a.height}b.width=a.width;b.height=a.height;b.element.style.left=b.x-b.width*b.ax;b.element.style.top=b.y-b.height*b.ay}function SetContentSize(b,a){if(typeof(b.originalWidth)!=="undefined"){assert(typeof(b.originalHeight)!=="undefined","has originalWidth but no originalHeight");b.scalex=a.width/b.originalWidth;b.scaley=a.height/b.originalHeight;UpdateNodeScale(b)}else{__SetContentSize(b,a)}}function UpdateNodeScale(a){if(typeof(a.originalWidth)!=="undefined"){assert(typeof(a.originalHeight)!=="undefined","has originalWidth but no originalHeight");if(typeof(a.transform.scalex)!=="undefined"){assert(typeof(a.transform.scaley)!=="undefined","has scalex but no scaley");__SetContentSize(a,CCSizeMake(a.originalWidth*a.transform.scalex,a.originalHeight*a.transform.scaley))}else{if(typeof(a.width)!=="undefined"){assert(typeof(a.height)!=="undefined","has width but no height");__SetContentSize(a,CCSizeMake(a.width,a.height))}else{__SetContentSize(a,CCSizeMake(a.originalWidth,a.originalHeight))}}}}function SetScaleX(c,b){c.scalex=c.transform.scalex=b;if(typeof(c.scaley)==="undefined"){c.scaley=1}if(c.parent!=null){c.transform.scalex=b*c.parent.transform.scalex;c.transform.scaley=c.scaley*c.parent.transform.scaley}UpdateNodeScale(c);for(var a=c.childs.length-1;a>=0;a--){SetScaleX(c.childs[a],c.childs[a].scalex);SetPosition(c.childs[a],c.childs[a].x,c.childs[a].y)}SetPosition(c,c.x,c.y)}function SetScaleY(c,a){c.scaley=c.transform.scaley=a;if(typeof(c.scalex)==="undefined"){c.scalex=1}if(c.parent!=null){c.transform.scalex=c.scalex*c.parent.transform.scalex;c.transform.scaley=a*c.parent.transform.scaley}UpdateNodeScale(c);for(var b=c.childs.length-1;b>=0;b--){SetScaleY(c.childs[b],c.childs[b].scaley);SetPosition(c.childs[b],c.childs[b].x,c.childs[b].y)}SetPosition(c,c.x,c.y)}function SetScale(a,b){SetScaleX(a,b);SetScaleY(a,b)}function SetOpacity(b,a){b.opacity=a;b.element.style.opacity=a;if(IS_IE){a=Math.round(a*100);if(a>100){a=100}b.element.style.filter="alpha(opacity="+a+")"}}function GetOpacity(a){return a.opacity}function SetTouchEnabled(a,c){if(c){var f=false;var g=0;var d=0;function i(k){var j=a.element.getBoundingClientRect();k=k?k:window.event;g=k.x-j.left;d=k.y-j.top;if(typeof(k.clientX)!=="undefined"){g=k.clientX-j.left;d=k.clientY-j.top}if(typeof(k.touches)!=="undefined"){g=k.touches[0].clientX-j.left;d=k.touches[0].clientY-j.left}if(a.touchBegin!=null){a.touchBegin(g,d)}if(typeof(a.element.ontouchstart)!=="undefined"){a.element.ontouchmove=b;a.element.ontouchend=e;a.element.ontouchcancel=h}else{a.element.onmousemove=b;a.element.onmouseup=e;a.element.onmouseout=h}f=true}function b(k){var j=a.element.getBoundingClientRect();k=k?k:window.event;g=k.x-j.left;d=k.y-j.top;if(typeof(k.clientX)!=="undefined"){g=k.clientX-j.left;d=k.clientY-j.top}if(typeof(k.touches)!=="undefined"){g=k.touches[0].clientX-j.left;d=k.touches[0].clientY-j.left}if(a.touchMoved!=null){a.touchMoved(g,d)}}function e(k){var j=a.element.getBoundingClientRect();k=k?k:window.event;g=k.x-j.left;d=k.y-j.top;if(typeof(k.clientX)!=="undefined"){g=k.clientX-j.left;d=k.clientY-j.top}if(typeof(k.touches)!=="undefined"){if(typeof(k.touches[0])!=="undefined"){g=k.touches[0].clientX-j.left;d=k.touches[0].clientY-j.left}}if(a.touchEnded!=null){a.touchEnded(g,d)}if(typeof(a.element.ontouchstart)!=="undefined"){a.element.ontouchmove=null;a.element.ontouchend=null;a.element.ontouchcancel=null}else{a.element.onmousemove=null;a.element.onmouseup=null;a.element.onmouseout=null}f=false}function h(){if(f){f=false;if(typeof(a.element.ontouchstart)!=="undefined"){a.element.ontouchmove=null;a.element.ontouchend=null;a.element.ontouchcancel=null}else{a.element.onmousemove=null;a.element.onmouseup=null;a.element.onmouseout=null}if(a.touchCancled){a.touchCancled(g,d)}}}if(typeof(a.element.ontouchstart)!=="undefined"){a.element.ontouchstart=i}else{a.element.onmousedown=i}a.touchEnabled=true}else{a.element.onmousedown=null;a.element.onmousemove=null;a.element.onmouseup=null;a.element.onmouseout=null;a.element.ontouchstart=null;a.element.ontouchmove=null;a.element.ontouchend=null;a.element.ontouchcancel=null;a.touchEnabled=false;h()}}function SetDepth(a,b){a.element.style.zIndex=""+b;a.depth=b}function SetTexture(b,a){var c=getSpriteFrameInfo(a);if(typeof(c)!=="undefined"&&c!=null){b.originalWidth=c.width;b.originalHeight=c.height;if(!IS_IE){b.element.style.width=c.width+"px";b.element.style.height=c.height+"px";b.element.style.background="url("+c.textureFileName+") no-repeat "+(-c.x)+"px "+(-c.y)+"px"}else{alert("set texture rect still haven't support ie!")}UpdateNodeScale(b)}else{if(!IS_IE){b.element.style.background="url("+a+") no-repeat "}else{}}}function CCNode_instance(){this.x=0;this.y=0;this.visible=true;this.ax=0.5;this.ay=0.5;this.opacity=1;this.depth=0;this.refcount=1;this.id=math.random(0,1200000000);this.touchBegin=null;this.touchMoved=null;this.touchEnded=null;this.toucheCancled=null;this.touchEnabled=false;this.runningAction=null;this.childs=new Array();this.parent=null;this.transform=new Object();this.scalex=this.scaley=this.transform.scalex=this.transform.scaley=1;var a=document.createElement("DIV");a.name=this.id;a.style.position="absolute";a.style.mozUserSelect="none";document.body.appendChild(a);this.element=a;SetAnchorpoint(this,0.5,0.5)}CCNode_instance.prototype={addChild:function(a){return AddChild(this,a)},setVisible:function(a){return SetVisible(this,a)},setPosition:function(a,b){return SetPosition(this,a,b)},isVisible:function(){return IsVisible(this)},setColor:function(a){return SetColor(this,a)},getColor:function(){return this.color},setContentSize:function(a){return SetContentSize(this,a)},setScale:function(a){SetScale(this,a)},setScaleX:function(a){SetScaleX(this,a)},setScaleY:function(a){SetScaleY(this,a)},setOpacity:function(a){SetOpacity(this,a)},getOpacity:function(){return GetOpacity(this)},setTouchEnabled:function(a){SetTouchEnabled(this,a)},isTouchEnabled:function(){return this.touchEnabled},retain:function(){this.refcount+=1},removeFromParent:function(){RemoveFromParent(this)},removeChild:function(a){RemoveChild(this,a)},removeAllChildsAndCleanUp:function(a){RemoveAllChildsAndCleanUp(this,a)},setAnchorpoint:function(b,a){SetAnchorpoint(this,b,a)},runAction:function(a){RunAction(this,a)},setDepth:function(a){SetDepth(this,a)},getDepth:function(){return this.depth},setTexture:function(a){SetTexture(this,a)},stopAllActions:function(){StopAllActions(this)}};function CCLayer_instance(a){return a}CCLayer_instance.prototype=new CCNode_instance();function CCLayer_index(){this.create=a;function a(){return CCLayer_instance(new CCNode_instance())}}var CCLayer=new CCLayer_index();function CCScene_instance(b){b._setContentSize=b.setContentSize;function a(c){SetContentSize(b,c);b.element.style.overflow="hidden";b.element.style.marginLeft="-"+(c.width/2)+"px";b.element.style.marginTop="-"+(c.height/2)+"px";b.element.style.left="50%";b.element.style.top="50%"}b.setContentSize=a;b.setContentSize(CCSizeMake(480,320));return b}CCScene_instance.prototype=new CCNode_instance();function CCScene_index(){this.create=a;function a(){return CCScene_instance(new CCNode_instance())}}var CCScene=new CCScene_index();var loadingReource=new Array();var loadingReourceCount=0;var readyCount=0;function onRequestResource(a,b){if(typeof(loadingReource[b])==="undefined"){loadingReource[b]=1}else{loadingReource[b]++}loadingReourceCount++}function onResourceReady(a,b){if(typeof(loadingReource[b])==="undefined"||loadingReource[b]==0){alert("resouce not managed by resource manager!")}loadingReource[b]--;readyCount++;cclog("loading %"+getLoadingPercentage())}function getLoadingPercentage(){if(loadingReourceCount==0){return 1}else{return(readyCount/loadingReourceCount)*100}}function isAllResourceReady(){return loadingReourceCount==readyCount}function CCSprite_instance(b,c){if(c!=""){var a=new Image();onRequestResource("image",c);a.onload=function(){onResourceReady("image",c);if(!IS_IE){b.element.style.backgroundImage="url("+c+")"}else{var d=document.createElement("DIV");d.style.position="absolute";d.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src="'+c+'")';d.style.width=this.width+"px";d.style.height=this.height+"px";if(b.opacity<1){b.element.style.filter="alpha(opacity="+(b.opacity*100)+");"}b.element.appendChild(d);b.ieChildNode=d}b.element.style.backgroundRepeat="no-repeat";b.element.style.backgroundSize="100% 100%";b.originalWidth=this.width;b.originalHeight=this.height;UpdateNodeScale(b)};a.src=c}return b}CCSprite_instance.prototype=new CCNode_instance();function CCSpriteFromFrame_instance(c,a,d){function b(){c.originalWidth=d.width;c.originalHeight=d.height;if(!IS_IE){c.element.style.width=d.width+"px";c.element.style.height=d.height+"px";c.element.style.background="url("+a+") no-repeat "+(-d.x)+"px "+(-d.y)+"px"}else{var f=document.createElement("DIV");f.style.position="absolute";f.style.width=880+"px";f.style.height=512+"px";f.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=image, src="'+a+'")';var e=document.createElement("DIV");e.style.position="absolute";e.style.width=880+"px";e.style.height=512+"px";e.style.left=-230+"px";e.style.top=-230+"px";e.appendChild(f);c.element.style.filter="alpha(opacity="+(c.opacity*50)+");";c.element.appendChild(e)}UpdateNodeScale(c)}b();return c}CCSpriteFromFrame_instance.prototype=new CCNode_instance();var spriteFrameCatche=new Array();function parseRect(h,f){var c=h.replace(/[{|}]/g,"");var e=c.split(",");assert(e.length==4,"rect definition string not valid!");var b=Number(e[0]);var g=Number(e[1]);var d=Number(e[2]);var a=Number(e[3]);assert(!isNaN(b)&&!isNaN(g)&&!isNaN(d)&&!isNaN(a),"rect definition string not valid!");f.x=b;f.y=g;f.width=d;f.height=a}function loadSpriteFrame(e){if(IS_IE){return}var i=loadXMLDoc(e);if(i==null){throw"Failed to load file "+e}var b=new Array();parsePlist(i,b);var a=b.metadata["realTextureFileName"];a=e.replace(/[^\/]*$/,a);var f=b.metadata["size"];for(var h in b.frames){if(h!="remove"){var c=new Object();var d=b.frames[h]["frame"];parseRect(d,c);c.textureFileName=a;c.texturesize=f;spriteFrameCatche[h]=c}}var g=new Image();onRequestResource("image",a);g.onload=function(){onResourceReady("image",a)};g.src=a}function getSpriteFrameInfo(a){if(typeof(spriteFrameCatche[a])!="undefined"){return spriteFrameCatche[a]}return null}function createWithSpriteFrameName(a){var c=getSpriteFrameInfo(a);if(c==null){cclog("WARNING: sprite frame ["+a+"] not found! check if name is correct or the loadSpriteFrame is correctlly called to fill the catche!");return null}var b=CCSprite.createWithSpriteFrame(c.textureFileName,c);assert(b!=null,"Name failed!");return b}var __shouldCatchImage=false;function catcheNextImage(){__shouldCatchImage=true}function shouldCatchImage(){if(__shouldCatchImage){__shouldCatchImage=false;return true}return false}var spriteCatche=new Array();function dequeue_object_from_catche(a){if(typeof(spriteCatche[a])==="undefined"){return null}else{if(spriteCatche[a].length>0){return spriteCatche[a].shift()}}return null}function catche_object_with_key(a,b){if(typeof(spriteCatche[a])==="undefined"){spriteCatche[a]=new Array()}spriteCatche[a].push(b)}function CCSprite_index(){this.createWithSpriteFrame=b;function b(f,g){var e=null;if(shouldCatchImage()){var c=f+"_"+g.x+"_"+g.y+"_"+g.width+"_"+g.height;e=dequeue_object_from_catche(c);if(e){return e}else{e=CCSpriteFromFrame_instance(new CCNode_instance(),f,g);e.__catche_key=c;function d(){catche_object_with_key(c,e)}e.free=d}}else{e=CCSpriteFromFrame_instance(new CCNode_instance(),f,g)}return e}this.createWithSpriteFrameName=createWithSpriteFrameName;this.create=a;function a(d){if(getSpriteFrameInfo(d)==null){return CCSprite_instance(new CCNode_instance(),d)}else{var c=createWithSpriteFrameName(d);return c}}}var CCSprite=new CCSprite_index();function getWinSize(){var a=new Object();a.width=960;a.height=640;return a}function CCLabel_instance(c,d){c.setString=a;c.element.style.width="auto";function a(e){c.element.innerHTML='<center><div style="font-family:Familiar">'+e+"</div></center>";c.setVisible(true)}c.setString(d);function b(e){c.element.style.color=e.toString()}c.setColor=b;return c}CCLabel_instance.prototype=new CCNode_instance();function createLabelDefaultStyle(c,a,d){var b=CCLabel_instance(new CCNode_instance(),c);b.str=c;b.x=a;b.y=d;b.setPosition(a,d);return b}function string_index(){this._byte=a;function a(c,b){return c[b]}}var string=new string_index();function CCSimpleAutionEngine_instance(){var m=15;var h=new Array();var g=false;var j=new Array();var b=new Array();window.AudioContext=window.AudioContext||window.webkitAudioContext;var c=null;if(typeof(window.AudioContext)!="undefined"){c=new AudioContext();g=true}function k(q){onRequestResource("audio",q);var p=soundManager.createSound({url:q,autoLoad:true,onload:function(){onResourceReady("audio",q)}});return p}function d(p,r,t){var q=k(r);t[p]=q}var o=true;this.preloadEffect=f;function f(t){if(Sys.mobileSafari){return}if(g){onRequestResource("audio",t);var r=new XMLHttpRequest();r.open("GET",t,true);r.responseType="arraybuffer";function q(){alert("web audio failed to load sound!");onResourceReady("audio",t)}r.onload=function(){c.decodeAudioData(r.response,function(v){j[t]=v;onResourceReady("audio",t);var w=c.createBufferSource();w.buffer=j[t];w.connect(c.destination);b[t]=w},q)};r.send();return}if(o){var u=new Array();u.index=0;var p=0;for(p=0;p<m;++p){d(p,t,u)}h[t]=u}}this.playEffect=n;function n(r){if(!i){return}if(Sys.mobileSafari){return}if(g){if(typeof(j[r])==="undefined"){f(r)}if(typeof(j[r])==="undefined"){return}var q=c.createBufferSource();q.buffer=j[r];q.connect(c.destination);if(typeof(q.start)!=="undefined"){q.start(0)}else{q.noteOn(0)}return}if(o){if(typeof(h[r])==="undefined"){f(r)}var t=h[r];do{var p=t[t.index];if(typeof(p)!=="undefined"){p.play()}t.index++;t.index=t.index%m}while(typeof(p)==="undefined")}}this.playBackgroundMusic=a;function a(p){}this.stopBackgroundMusic=l;function l(){}var e=true;this.isMusicPlaying=function(){return e};this.setMusicOn=function(p){e=p};var i=true;this.isEffectOn=function(){return i};this.setEffectOn=function(p){i=p}}function CCSimpleAudioEngine_index(){this.sharedEngine=a;this._instance=new CCSimpleAutionEngine_instance();function a(){return this._instance}}var SimpleAudioEngine=new CCSimpleAudioEngine_index();function CCScheduler_instance(){this.scheduleScriptFunc=a;function a(e,b,d){function c(){e();setTimeout(c,b*1000)}if(d){setTimeout(e,b)}else{setTimeout(c,b*1000)}}}function CCDirector_instance(){this.getScheduler=a;function a(){return new CCScheduler_instance()}}function CCDirector_index(){this.sharedDirector=a;function a(){return new CCDirector_instance()}}var CCDirector=new CCDirector_index;function createButton(f,c){if(typeof(c)==="undefined"){c=""}var b=CCSprite.create(c);b.setTouchEnabled(true);function a(){b.setScale(1)}function e(){a();f()}b.touchEnded=e;function d(){b.setScale(1.2)}b.touchBegin=d;b.touchCancled=a;return b}function DisableRightMenu(){if(window.Event){document.captureEvents(Event.MOUSEUP)}function b(d){d.cancelBubble=true;d.returnValue=false;return false}function a(d){if(window.Event){if(d.which==2||d.which==3){return false}}else{if(event.button==2||event.button==3){event.cancelBubble=true;event.returnValue=false;return false}}}function c(){return false}document.oncontextmenu=b;document.onmousedown=a;document.onselectstart=c}function sinBounce(a){var g=Math.asin(a);var e=-Math.PI/2+g;var h=1.5*Math.PI-2*g;var c=Math.sin(e+h)+1;function f(d){var b=(Math.sin(e+h*d)+1)/c;if(b>1){b=(b-1)*0.5+1}return b}return f}var ease={easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return -(Math.pow((a-1),2)-1)},easeInOutQuad:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,2)}return -0.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return(Math.pow((a-1),3)+1)},easeInOutCubic:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,3)}return 0.5*(Math.pow((a-2),3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return -(Math.pow((a-1),4)-1)},easeInOutQuart:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,4)}return -0.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return(Math.pow((a-1),5)+1)},easeInOutQuint:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,5)}return 0.5*(Math.pow((a-2),5)+2)},easeInSine:function(a){return -Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return(-0.5*(Math.cos(Math.PI*a)-1))},easeInExpo:function(a){return(a==0)?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return(a==1)?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){if(a==0){return 0}if(a==1){return 1}if((a/=0.5)<1){return 0.5*Math.pow(2,10*(a-1))}return 0.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return -(Math.sqrt(1-(a*a))-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow((a-1),2))},easeInOutCirc:function(a){if((a/=0.5)<1){return -0.5*(Math.sqrt(1-a*a)-1)}return 0.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){if((a)<(1/2.75)){return(7.5625*a*a)}else{if(a<(2/2.75)){return(7.5625*(a-=(1.5/2.75))*a+0.75)}else{if(a<(2.5/2.75)){return(7.5625*(a-=(2.25/2.75))*a+0.9375)}else{return(7.5625*(a-=(2.625/2.75))*a+0.984375)}}}},easeInBack:function(b){var a=1.70158;return(b)*b*((a+1)*b-a)},easeOutBack:function(b){var a=1.70158;return(b=b-1)*b*((a+1)*b+a)+1},easeInOutBack:function(b){var a=1.70158;if((b/=0.5)<1){return 0.5*(b*b*(((a*=(1.525))+1)*b-a))}return 0.5*((b-=2)*b*(((a*=(1.525))+1)*b+a)+2)},elastic:function(a){return -1*Math.pow(4,-8*a)*Math.sin((a*6-1)*(2*Math.PI)/2)+1},swingFromTo:function(b){var a=1.70158;return((b/=0.5)<1)?0.5*(b*b*(((a*=(1.525))+1)*b-a)):0.5*((b-=2)*b*(((a*=(1.525))+1)*b+a)+2)},swingFrom:function(b){var a=1.70158;return b*b*((a+1)*b-a)},swingTo:function(b){var a=1.70158;return(b-=1)*b*((a+1)*b+a)+1},bounce:function(a){if(a<(1/2.75)){return(7.5625*a*a)}else{if(a<(2/2.75)){return(7.5625*(a-=(1.5/2.75))*a+0.75)}else{if(a<(2.5/2.75)){return(7.5625*(a-=(2.25/2.75))*a+0.9375)}else{return(7.5625*(a-=(2.625/2.75))*a+0.984375)}}}},bouncePast:function(a){if(a<(1/2.75)){return(7.5625*a*a)}else{if(a<(2/2.75)){return 2-(7.5625*(a-=(1.5/2.75))*a+0.75)}else{if(a<(2.5/2.75)){return 2-(7.5625*(a-=(2.25/2.75))*a+0.9375)}else{return 2-(7.5625*(a-=(2.625/2.75))*a+0.984375)}}}},easeFromTo:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,4)}return -0.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,0.25)},linear:function(a){return a},sinusoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5},reverse:function(a){return 1-a},mirror:function(b,a){a=a||tween.sinusoidal;if(b<0.5){return a(b*2)}else{return a(1-(b-0.5)*2)}},flicker:function(a){var a=a+(Math.random()-0.5)/5;return tween.sinusoidal(a<0?0:a>1?1:a)},wobble:function(a){return(-Math.cos(a*Math.PI*(9*a))/2)+0.5},pulse:function(b,a){return(-Math.cos((b*((a||5)-0.5)*2)*Math.PI)/2)+0.5},blink:function(b,a){return Math.round(b*(a||5))%2},spring:function(a){return 1-(Math.cos(a*4.5*Math.PI)*Math.exp(-a*6))},none:function(a){return 0},full:function(a){return 1}};function createXMLHttpRequest(){var a=false;if(window.XMLHttpRequest){a=new XMLHttpRequest();if(a.overrideMimeType){a.overrideMimeType("text/xml")}}else{if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}}}return a}function ajaxPost(a,b,d){var c=createXMLHttpRequest();if(!c){window.alert("can't create XMLHttpRequest");d(false);return}c.open("POST",a,true);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(b);c.onreadystatechange=function(){if(c.readyState==4&&c.status==200){d(true);return}}}function ajaxGet(b,c){var a=createXMLHttpRequest();if(!a){window.alert("can't create XMLHttpRequest");c(false);return}a.onreadystatechange=function(d,e){if(a.readyState==4&&a.status==200){e(a.responseText)}};a.open("GET",b,true);a.send()}String.prototype.hasSuffix=function(a){return this.indexOf(a,this.length-a.length)!==-1};String.prototype.hasPrefix=function(b){var a=this.substring(0,b.length);return a===b};function isLocalExcution(){return window.location.href.toString().hasPrefix("file:///")}function getFileContents(b){if(isLocalExcution()){return'map.setsize( 9, 5); map.judge="i==1&&j==1||i==9&&j==1||i==1&&j==9||i==9&&j==9";'}var a;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{a=new ActiveXObject("Microsoft.XMLHTTP")}a.open("GET",b,false);a.send();if(a.readyState==4&&a.status==200){return a.responseText}else{return null}}function loadXmlFromString(c){var a=null;try{a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(c)}catch(b){try{parser=new DOMParser();a=parser.parseFromString(c,"text/xml")}catch(b){alert(b.message)}}return a}function loadXMLDoc(a){var b=getFileContents(a);if(b!=null){return loadXmlFromString(b)}return null}function parsePlist(d,g){assert(typeof(d)!=="undefined"&&d!=null,"node is null or undefined!");var b=null;for(var a=0;a<d.childNodes.length;++a){var c=d.childNodes[a];var f=c.localName;if(typeof(f)=="undefined"){f=c.nodeName}if(f=="key"){b=c.textContent;if(typeof(b)=="undefined"){b=c.text}}else{if(f=="string"||f=="integer"){if(b!=null){g[b]=c.textContent;if(typeof(c.textContent)=="undefined"){g[b]=c.text}b=null}}else{if(f=="false"){if(b!=null){g[b]=false;b=null}}else{if(f=="true"){if(b!=null){g[b]=true;b=null}}else{if(f=="dict"||f=="plist"){if(b!=null){var e=g[b]=new Array();parsePlist(c,e)}else{parsePlist(c,g)}}}}}}}}function getQueryStrings(){var e={};var d=function(g){return decodeURIComponent(g.replace(/\+/g," "))};var f=location.search.substring(1);var a=f.split("&");for(var c in a){if(c!="remove"){var b=a[c].split("=");if(b.length>1){e[d(b[0])]=d(b[1])}}}return e}function TimeAction(d){var c=new Object();c.finished=false;c.totalTime=d;c.time=0;function e(f){c.target=f;c.finished=false;c.time=0}function b(f){}function a(){c.finished=true;c.target=null}c._start=e;c.start=e;c._step=b;c.step=b;c._end=a;c.end=a;return c}function DelayTime(a){return TimeAction(a)}function FadeTo(e,b){var d=TimeAction(e);function f(g){d._start(g);d.sOpacity=g.getOpacity();d.dOpacity=b-d.sOpacity}function c(g){d.target.setOpacity(d.sOpacity+d.dOpacity*g)}function a(){d._end()}d.start=f;d.step=c;d.end=a;return d}function BezierCurve(e,f,d){var c=TimeAction(e);function g(h){c._start(h);c.sx=h.x;c.sy=h.y}function b(k){var j=Math.pow((1-k),2);var i=2*k*(1-k);var h=Math.pow(k,2);c.target.setPosition(j*c.sx+i*f.x+h*d.x,j*c.sy+i*f.y+h*d.y)}function a(){c._end()}c.start=g;c.step=b;c.end=a;return c}function TintTo(e,g){var d=TimeAction(e);function f(c){d._start(c);if(typeof(c.color)!=="undefined"){d.sc=c.color;d.dc=ccc3(g.r-d.sc.r,g.g-d.sc.g,g.b-d.sc.b);d.step=function(h){c.setColor(ccc3(d.sc.r+d.dc.r*h,d.sc.g+d.dc.g*h,d.sc.b+d.dc.b*h))}}else{c.setColor(g);c.setOpacity(0);d.step=function(h){c.setOpacity(h)}}}function b(c){d.step(c)}function a(){d._end()}d.start=f;d.step=b;d.end=a;return d}function ScaleTo(d,e){var c=TimeAction(d);function f(g){c._start(g);if(typeof(g.scalex)==="undefined"){g.setScale(1)}c.sScale=g.scalex;c.dScale=e-c.sScale}function b(g){c.target.setScale(c.sScale+c.dScale*g)}function a(){c._end()}c.start=f;c.step=b;c.end=a;return c}function ScaleToXY(f,c,b){var e=TimeAction(f);function g(h){e._start(h);if(typeof(h.scalex)==="undefined"){h.setScale(1)}e.sScaleX=h.scalex;e.sScaleY=h.scaley;e.dScaleX=c-e.sScaleX;e.dScaleY=b-e.sScaleY}function d(h){e.target.setScaleX(e.sScaleX+e.dScaleX*h);e.target.setScaleY(e.sScaleY+e.dScaleY*h)}function a(){e._end()}e.start=g;e.step=d;e.end=a;return e}function FadeOut(a){return FadeTo(a,0)}function FadeIn(a){return FadeTo(a,1)}function MoveBy(f,c,b){var e=TimeAction(f);function g(h){e._start(h);e.sx=h.x;e.sy=h.y}function d(h){e.target.setPosition(e.sx+h*c,e.sy+h*b)}function a(){e._end()}e.start=g;e.step=d;e.end=a;return e}function MoveTo(e,a,g){var d=TimeAction(e);function f(h){d._start(h);d.sx=h.x;d.sy=h.y;d.dx=a-d.sx;d.dy=g-d.sy}function c(h){d.target.setPosition(d.sx+h*d.dx,d.sy+h*d.dy)}function b(){d._end()}d.start=f;d.step=c;d.end=b;return d}function Ease(c,d){var e=TimeAction(d.totalTime);function f(g){e._start(g);d.start(g)}function b(g){if(d.step!=null){d.step(c(g))}}function a(){if(d.end!=null){d.end()}e._end()}e.start=f;e.step=b;e.end=a;return e}function Spawn(f){var d=0;for(var b=f.length-1;b>=0;b--){if(f[b].totalTime>d){d=f[b].totalTime}}var e=TimeAction(d);function g(j){e._start(j);for(var h=f.length-1;h>=0;h--){f[h].start(j)}}function c(k){for(var h=f.length-1;h>=0;h--){if(f[h].step!=null){var j=d*k/f[h].totalTime;f[h].step(j)}}}function a(){e._end();for(var h=f.length-1;h>=0;h--){if(f[h].finished==false){if(f[h].end!=null){f[h].end()}}}}e.start=g;e.step=c;e.end=a;return e}function CallFunc(c,a){var d=TimeAction(0);function b(e){if(c!=null&&typeof(c)!=="undefined"){c(d.target,a)}}d.step=b;return d}function Repeat(c,e){assert(typeof(c)!="undefined"&&c!=null,"Repeat::invalid action to Repeat!");var d=TimeAction(c.totalTime);d.timesLeft=0;function f(g){d._start(g);if(d.timesLeft<=0){d.timesLeft=e}c.start(g)}function b(g){c.step(g)}function a(){c.end();if(--(d.timesLeft)>0){d.target.runAction(d)}else{d._end()}}d.start=f;d.step=b;d.end=a;return d}function RepeatForever(c){assert(typeof(c)!="undefined"&&c!=null,"RepeatForever::invalid action to Repeat!");var d=TimeAction(c.totalTime);function e(f){d._start(f);c.start(f)}function b(f){c.step(f)}function a(){d.target.runAction(d);d._end();c.end()}d.start=e;d.step=b;d.end=a;return d}function Sequence(b){assert(b.length>0,"empty sequence!");var d=0;for(var c=b.length-1;c>=0;c--){d+=b[c].totalTime}var f=TimeAction(d);f.currentIndex=-1;function g(h){f._start(h);f.currentIndex=-1;f.lastIndex=-1}function e(n){var m=f.totalTime*n;var j=0;var l=-1;for(var h=0;h<b.length;++h){j+=b[h].totalTime;if(j>m){l=h;break}}if(m>=j){l=b.length-1}if(f.currentIndex==-1){f.currentIndex=l}if(l>f.currentIndex){f.currentIndex+=1}else{if(l<f.currentIndex){f.currentIndex-=1}}var k=b[f.currentIndex];if(f.currentIndex!=f.lastIndex){b[f.currentIndex].start(f.target);f.lastIndex=f.currentIndex}if(f.currentIndex>-1&&f.currentIndex<b.length&&k.step!=null){if(k.totalTime>0){k.step(1-(j-m)/k.totalTime)}else{k.step(0)}}}function a(){f._end();for(var h=b.length-1;h>=0;h--){if(b[h].end!=null){b[h].end()}}}f.start=g;f.step=e;f.end=a;return f}var actionManager=new Array();var actionsBegin=new Array();function __RunAction(a,b){b.start(a);a.runningAction=b;actionManager.push(a);a.__penddingAction=null}function RunAction(a,b){var c=new Object();c.__node=a;c.__action=b;actionsBegin.push(c);a.__penddingAction=b;a.__penddingAction.__shouldRun=true}function StopAllActions(a){if(typeof(a.runningAction)!="undefined"&&a.runningAction!=null){a.runningAction.__shouldRun=false}if(typeof(a.__penddingAction)!="undefined"&&a.__penddingAction!=null){a.__penddingAction.__shouldRun=false}}function processAction(c){for(var e=actionsBegin.shift();e!=null;e=actionsBegin.shift()){__RunAction(e.__node,e.__action);e=null}for(var a=actionManager.length-1;a>=0;a--){var b=actionManager[a];if(b.runningAction!=null){var f=false;if(b.runningAction.__shouldRun){b.runningAction.time+=c;var d=b.runningAction.time/b.runningAction.totalTime;if(d>=1){f=true;d=1}if(b.runningAction.step!=null){b.runningAction.step(d)}else{f=true}}else{actionManager.remove(a);b.runningAction=null}if(f){if(b.runningAction.end!=null){b.runningAction.end()}actionManager.remove(a);b.runningAction=null}}else{}}};